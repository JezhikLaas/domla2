<form [formGroup]="editForm" xmlns="http://www.w3.org/1999/html">
  <h5 class="ui dividing header">Objektdaten</h5>

<div class="container" fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="0.5%" fxLayoutAlign="left">
  <div fxFlex="7%">
      <mat-form-field appearance="outline" style="width: 100%">
        <mat-label>Schlüssel</mat-label>
        <input matInput formControlName="UserKey" placeholder="Bezeichnung"  >
          <mat-error *ngIf="errors?.AdminUnitUserKey" >
          {{ errors?.AdminUnitUserKey }}
          </mat-error>
      </mat-form-field>
  </div>
  <div fxFlex="46%">
      <mat-form-field appearance="outline" style="width: 100%">
        <mat-label>Bezeichnung</mat-label>
        <input matInput formControlName="Title" type="text">
          <mat-error *ngIf="errors?.AdminUnitTitle" >
          {{ errors?.AdminUnitTitle }}
         </mat-error>
      </mat-form-field>
    </div>
  <div fxFlex="33%">
      <ui-datepicker [YearOfConstruction]="editForm.get(['YearOfConstruction'])" ></ui-datepicker>
  </div>
</div>
  <div style="margin-top: 1em; margin-bottom: 1em;">
  <label >Eingänge</label>
  </div>
  <div class="container" fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="0.5%" fxLayoutAlign="left">
         <div formArrayName="Entrances" fxFlex="100%">
        <div *ngFor="let control of entrances.controls; index as i; last as l"
             [formGroupName]="i"
             class="container" fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="0.5%" fxLayoutAlign="left">
            <div fxFlex="6%">
              <mat-form-field appearance="outline" style="width: 100%">
                <mat-label>Bezeichnung</mat-label>
                <input matInput formControlName="Title" placeholder="{{i+1}} Eingang" >
              </mat-form-field>
            </div>
          <div fxFlex="88%">
              <ui-address
                [AddressFormGroup] = "editForm.get(['Entrances',i,'Address' ])"
                [CountryFormGroup] = "editForm.get(['Entrances',i, 'Address','Country'])"
                [Iso2Control] = "editForm.get(['Entrances',i,'Address','Country','Iso2'])"
                [CountryDefaultIso2]="CountryDefaultIso2"
                [CityControl] = "editForm.get(['Entrances',i,'Address','City'])"
                [StreetControl] = "editForm.get(['Entrances',i,'Address','Street'])"
                [NumberControl] = "editForm.get(['Entrances',i,'Address','Number'])"
                [PostalCodeControl] = "editForm.get(['Entrances', i, 'Address', 'PostalCode'])">
                Address
              </ui-address>
          </div>
        <div *ngIf="l" fxFlex="3%">
            <button  (click)="addEntrancesControl()" style="width: 100%;" type="button" class="ui button"> + </button>
        </div>
          <div *ngIf="l && i!==0" fxFlex="3%">
            <button  (click)="removeEntrancesControl(i)" style="width: 100%" type="button" class="ui button"> - </button>
          </div>
      </div>
        <div *ngIf="errors?.EntranceTitle" class="ui negative message">
          {{ errors?.EntranceTitle }}
        </div>
        <div *ngIf="errors?.AddressPostalCode" class="ui negative message">
          {{ errors?.AddressPostalCode }}
        </div>
        <div *ngIf="errors?.AddressCity" class="ui negative message">
          {{ errors?.AddressCity }}
        </div>
        <div *ngIf="errors?.AddressStreet" class="ui negative message">
          {{ errors?.AddressStreet }}
        </div>
        <div *ngIf="errors?.AddressNumber" class="ui negative message">
          {{ errors?.AddressNumber }}
        </div>
    </div>
   </div>
</form>


